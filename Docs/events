Dokumentation der Struktur Level-Dateien

Schlüsselwort "[Map]"

Es folgen Informationen zur Karte und die Karte:

Tileset name_des_tilesets
Size breite x höhe

Indices der tiles



Schüsselwort "[Object]"

Auflistung der Objekte, die beim Laden der Karte erzeugt werden.

Typ:

Sprite (= Bewegliche Figur)
sprite posx posy Sprite Steuerung (player = Tastatur, none = keine Intelligenz)

BaseObject (= unsichtbares Objekt)
bobj posx posy

Object (= animiertes Objekt)
object posx posy Animation



Schlüsselwort "[Event]"

Auflistung der Events.
Syntax:

EVENT EVENT_PARAMETER [SCHLÜSSELWORT SCHLÜSSELWORT_PARAMETER] FUNKTION FUNKTION_PARAMETER ;

EVENT:			EVENT_PARAMETER:
on_load 								//wird beim Laden der Karte einmalig ausgeführt
on_exit 								//wird beim Verlassen der Karte einmalig ausgeführt
always 						 			//wird bei jedem Update (ca 60/s) ausgeführt
player_at		xpos ypos				//wird ausgeführt, wenn sich der tastaturgesteuerte Sprite bei xpos ypos befindet
on_action		xpos ypos				//player drückt die Leertaste und steht vor feld xpos ypos

SCHLÜSSELWORT:	SW_PARAMETER:
if				[var|val] [= < > !=] [var|val]		//Bedingung muss erfüllt sein (var|val bedeutet: var x = variable x
																									 val 5.0 = wert 5.0)

FUNKTION		FUNKTION_PARAMETER
set_var			varname value			//setzt varname auf value
dialog			< text >				//zeigt Dialog mit "text" an
change_map		new_map					//wechselt zu new_map; name der letzten map wird in "last_map" gespeichert
set_obj_position obj_index posx posy	//verschiebt Objekt[obj_index] nach posx posy


Schlüsselwort "[eof]"

Ende der Datei, alles weitere ist Kommentar
